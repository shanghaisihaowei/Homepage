"use strict";(self["webpackChunktemplates"]=self["webpackChunktemplates"]||[]).push([[39],{39:(e,t,i)=>{i.r(t),i.d(t,{default:()=>oe});var o=i(3673),n=i(2323),a=i(8880);const s=e=>((0,o.dD)("data-v-41c6e9ba"),e=e(),(0,o.Cn)(),e),r={class:"row my-font"},l=["src"],c={class:"author my-font"},m={key:0},d={key:1},_={class:"tit my-font"},u=["innerHTML"],p={class:"col-1 avatar_pad"},y=["src"],g={class:"col-11 editor_pad"},h=["src"],w={class:"q-pa-md my-font fir_reply_author"},f={class:"fir_reply_time my-font-D"},v={style:{"padding-top":"0"}},k=["innerHTML"],q={class:"reply_div"},b=s((()=>(0,o._)("img",{src:"statics/community/textsms.svg"},null,-1))),z=["onClick"],x={key:0,style:{width:"90%","margin-left":"5%","margin-top":"10px"}},W={class:"row"},$={class:"col-1 avatar_pad"},D=["src"],S={class:"col-11 editor_pad"},L={style:{width:"100%",height:"70px","margin-top":"10px"}},C=["src"],M={class:"q-pa-md my-font fir_reply_author"},T={class:"fir_reply_time my-font-D"},V=["innerHTML"],A=["src"],H={class:"q-pa-md my-font fir_reply_author"},Z={class:"fir_reply_time my-font-D"},I=["innerHTML"],U={style:{"margin-left":"55px"}},F=["onClick"];function Q(e,t,i,s,Q,G){const R=(0,o.up)("q-btn"),B=(0,o.up)("q-card-actions"),N=(0,o.up)("q-separator"),O=(0,o.up)("q-avatar"),j=(0,o.up)("q-card-section"),K=(0,o.up)("q-card"),Y=(0,o.up)("q-editor");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(K,{class:"col-12 shadow-0"},{default:(0,o.w5)((()=>[(0,o.Wm)(B,null,{default:(0,o.w5)((()=>[(0,o.Wm)(R,{onClick:t[0]||(t[0]=e=>this.$router.push({name:"community"})),style:{"font-size":"14px","font-weight":"400",color:"#999999"},unelevated:"",label:e.goblack},null,8,["label"])])),_:1}),(0,o.Wm)(N,{inset:""}),(0,o.Wm)(j,{horizontal:""},{default:(0,o.w5)((()=>[(0,o.Wm)(j,{class:"q-pa-md"},{default:(0,o.w5)((()=>[(0,o.Wm)(O,{size:"60px"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.avatar_img},null,8,l)])),_:1})])),_:1}),(0,o.Wm)(j,{class:"q-pa-md flex flex-center"},{default:(0,o.w5)((()=>[(0,o._)("span",c,(0,n.zw)(e.author),1)])),_:1}),(0,o.Wm)(j,{class:"q-pa-md flex flex-center art_time my-font-D"},{default:(0,o.w5)((()=>[!0===e.is_uptime?((0,o.wg)(),(0,o.iD)("span",m,(0,n.zw)(e.$t("community.push_time")),1)):(0,o.kq)("",!0),!1===e.is_uptime?((0,o.wg)(),(0,o.iD)("span",d,(0,n.zw)(e.$t("community.revise_time")),1)):(0,o.kq)("",!0),(0,o._)("span",null,(0,n.zw)(e.time),1)])),_:1})])),_:1}),(0,o.Wm)(j,null,{default:(0,o.w5)((()=>[(0,o._)("div",_,(0,n.zw)(e.title),1)])),_:1}),(0,o.Wm)(j,null,{default:(0,o.w5)((()=>[(0,o._)("div",{innerHTML:e.content,class:"art_msg my-font"},null,8,u)])),_:1}),(0,o.Wm)(j,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.imgs),1)])),_:1}),(0,o.Wm)(N)])),_:1}),(0,o.Wm)(K,{class:"col-12 commentary_card shadow-0"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(j,{class:"row q-pa-md",style:{"padding-bottom":"0"}},{default:(0,o.w5)((()=>[(0,o._)("div",p,[(0,o.Wm)(O,{size:"36px"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.avatar_now},null,8,y)])),_:1})]),(0,o._)("div",g,[(0,o.Wm)(Y,{placeholder:e.write_reply,style:{width:"100%",height:"200px","overflow-y":"auto","overflow-x":"auto"},modelValue:e.qeditor_commentary,"onUpdate:modelValue":t[1]||(t[1]=t=>e.qeditor_commentary=t),dense:e.$q.screen.lt.md,toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","subscript","superscript"],[{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]}],["quote","unordered"],["viewsource"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["placeholder","modelValue","dense","toolbar"])])])),_:1},512),[[a.F8,e.isLogin]]),(0,o.wy)((0,o.Wm)(j,{style:{width:"97%",height:"70px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(R,{class:"my-font reply_btn",unelevated:"",onClick:t[2]||(t[2]=t=>e.post_comment())},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.$t("community.reply")),1)])),_:1})])),_:1},512),[[a.F8,e.isLogin]]),(0,o.wy)((0,o.Wm)(j,{style:{"border-bottom":"1px #D8D8D8 solid"}},null,512),[[a.F8,e.isLogin]]),(0,o.wy)((0,o.Wm)(j,{style:{"border-bottom":"1px #D8D8D8 solid"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.comment_count)+(0,n.zw)(e.$t("community.replies")),1)])),_:1},512),[[a.F8,e.isLogin]]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.first_LR,((i,s)=>((0,o.wg)(),(0,o.j4)(j,{key:s,style:{"border-bottom":"1px #D8D8D8 solid"}},{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o.Wm)(O,{size:"36px"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:i.user__icon},null,8,h)])),_:2},1024),(0,o._)("span",w,(0,n.zw)(i.user__nickname),1),(0,o._)("span",f,(0,n.zw)(i.create_time),1)]),(0,o._)("div",v,[(0,o._)("div",{innerHTML:i.content,class:"fir_reply_msg my-font q-pa-md"},null,8,k),(0,o.wy)((0,o._)("div",q,[b,(0,o._)("a",{onClick:t=>e.click_isWrite(s),class:"my-font reply_a"},(0,n.zw)(e.$t("community.reply")),9,z)],512),[[a.F8,e.isLogin]])]),e.isWrite[s]?((0,o.wg)(),(0,o.iD)("div",x,[(0,o._)("div",W,[(0,o._)("div",$,[(0,o.Wm)(O,{size:"36px"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.avatar_now},null,8,D)])),_:1})]),(0,o._)("div",S,[(0,o.Wm)(Y,{class:"my-font",placeholder:e.write_reply,style:{width:"100%",height:"200px","overflow-y":"auto","overflow-x":"auto"},modelValue:e.sen_qeditor,"onUpdate:modelValue":t[3]||(t[3]=t=>e.sen_qeditor=t),dense:e.$q.screen.lt.md,toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","subscript","superscript"],[{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]}],["quote","unordered"],["viewsource"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["placeholder","modelValue","dense","toolbar"])])]),(0,o._)("div",L,[(0,o.Wm)(R,{class:"my-font reply_btn",unelevated:"",onClick:t=>e.post_comment_sen(i.id,i.article)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.$t("community.reply")),1)])),_:2},1032,["onClick"])])])):(0,o.kq)("",!0),i.child?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:1},(0,o.Ko)(i.child,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"sen_cun",key:t},[(0,o.Wm)(O,{size:"36px"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.user__icon},null,8,C)])),_:2},1024),(0,o._)("span",M,(0,n.zw)(e.user__nickname),1),(0,o._)("span",T,(0,n.zw)(e.create_time),1),(0,o._)("div",{innerHTML:e.content,style:{"margin-left":"55px"}},null,8,V)])))),128)):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.comment_more[s],((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"check_more",key:t},[(0,o._)("div",null,[(0,o.Wm)(O,{size:"36px"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.user__icon},null,8,A)])),_:2},1024),(0,o._)("span",H,(0,n.zw)(e.user__nickname),1),(0,o._)("span",Z,(0,n.zw)(e.updata_time),1),(0,o._)("div",{innerHTML:e.content,style:{"margin-left":"55px"}},null,8,I)])])))),128)),(0,o._)("div",U,[e.isexhibit?((0,o.wg)(),(0,o.iD)("a",{key:0,class:"check_morebtn my-font",onClick:t=>{e.getcommentmore(i.id,s),e.isexhibit=!e.isexhibit}}," 查看更多 ↓ ",8,F)):(0,o.kq)("",!0),e.isexhibit?((0,o.wg)(),(0,o.iD)("a",{key:1,class:"check_morebtn my-font",onClick:t[4]||(t[4]=t=>{e.comment_more=[],e.isexhibit=!e.isexhibit})}," 收起 ↑ ")):(0,o.kq)("",!0)])])),_:2},1024)))),128))])),_:1})])}var G=i(51),R=i(5474),B=i(7286);const N=(0,o.aZ)({data(){return{avatar_now:"",goblack:this.$t("community.black"),title:"",avatar_img:"",author:"",time:"",content:"",imgs:"",qeditor_commentary:"",comment_count:"",first_LR:[],sen_qeditor:"",write_reply:this.$t("community.write_reply"),isWrite:[],has_child:[],comment_more:[],isexhibit:!0,is_uptime:!0,isLogin:!1}},computed:{articleId(){return this.$store.state.bbsChange.articleId}},methods:{getavayarinfo(){var e=this;let t=(0,G.Z)(e.$q.cookies.get("token"));e.avatar_now=t.icon},getdetailedinfo(){var e=this;(0,R.get)("article/api/v1/Browse/"+e.$q.cookies.get("articleId")+"/?community_type=1").then((t=>{var i=t.result;e.title=i.title,e.head_title=i.title,e.author=i.author_icon.author,e.content=i.content,e.imgs=i.cover,e.comment_count=i.comment_count,e.avatar_img=i.author_icon.icon,e.first_LR=i.comment,i.changed_time===i.create_time?(e.time=i.updata_time,e.is_uptime=!0):(e.time=i.create_time,e.is_uptime=!1),e.meta={description:{name:"description",content:"DVAdmin - Open Source Warehouse Management System"},keywords:{name:"keywords",content:i.content},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"},ogTitle:{property:"og:title",template(e){return`${e} - DVAdmin`}}}})).catch((t=>{e.$q.notify({message:t.detail,icon:"close",color:"negative"})}))},post_comment(){var e=this,t={};t["content"]=e.qeditor_commentary,t["depth"]=1,t["article"]=e.$q.cookies.get("articleId"),(0,R.postauth)("/comment/api/v1/commentadd/",t).then((t=>{200===t.code?(e.$q.notify({message:e.$t("community.reply_suc"),icon:"check",color:"green"}),location.reload()):e.$q.notify({message:e.$t("community.reply_err"),icon:"close",color:"negative"})})).catch((t=>{e.$q.notify({message:t.detail,icon:"close",color:"negative"})}))},click_isWrite(e){var t=this;t.isWrite[e]=!t.isWrite[e]},post_comment_sen(e,t){var i=this,o={depth:2};o["reply"]=e,o["root"]=e,o["article"]=i.$q.cookies.get("articleId"),o["content"]=i.sen_qeditor,(0,R.postauth)("/comment/api/v1/commentadd/",o).then((e=>{200===e.code&&i.$q.notify({message:"成功",icon:"check",color:"green"}),i.isWrite=[]})).catch((e=>{i.$q.notify({message:e.detail,icon:"close",color:"negative"})}))},getcommentmore(e,t){var i=this;(0,R.get)("/comment/api/v1/commentget/?root="+e).then((e=>{i.comment_more[t]=e.result})).catch((e=>{i.$q.notify({message:e.detail,icon:"close",color:"negative"})})),i.isMore=[]}},mixins:[(0,B.Z)((function(){return{title:this.head_title,meta:this.meta}}))],created(){var e=this;"zh-hans"===e.$q.cookies.get("lang")?(e.head_title="DVAdmin - 开源社区",e.meta={description:{name:"description",content:"DVAdmin - Open Source Warehouse Management System"},keywords:{name:"keywords",content:"聚商汇WMS,开源仓库管理系统,仓库管理系统,wms,仓库管理软件,仓库管理,GreaterWMS, greaterwms"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"},ogTitle:{property:"og:title",template(e){return`${e} - DVAdmin`}}}):(e.head_title="GreaterWMS - Community",e.meta={description:{name:"description",content:"GreaterWMS - Open Source Warehouse Management System"},keywords:{name:"keywords",content:"DVAdmin - Open Source Warehouse Management System, GreaterWMS, greaterwms, wms"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"},ogTitle:{property:"og:title",template(e){return`${e} - DVAdmin`}}})},mounted(){var e=this;e.$q.cookies.has("token")?(e.getavayarinfo(),e.isLogin=!0):e.isLogin=!1,this.getdetailedinfo()}});var O=i(4260),j=i(151),K=i(9367),Y=i(2165),E=i(5869),J=i(5589),P=i(5096),X=i(7201),ee=i(7518),te=i.n(ee);const ie=(0,O.Z)(N,[["render",Q],["__scopeId","data-v-41c6e9ba"]]),oe=ie;te()(N,"components",{QCard:j.Z,QCardActions:K.Z,QBtn:Y.Z,QSeparator:E.Z,QCardSection:J.Z,QAvatar:P.Z,QEditor:X.Z})}}]);