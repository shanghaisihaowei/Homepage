"use strict";(self["webpackChunktemplates"]=self["webpackChunktemplates"]||[]).push([[80],{2080:(t,a,e)=>{e.r(a),e.d(a,{default:()=>P});var n=e(3673),s=e(2323);const i=t=>((0,n.dD)("data-v-12d1973b"),t=t(),(0,n.Cn)(),t),o={class:"row"},l=i((()=>(0,n._)("img",{src:"statics/person_center/withdraw.svg"},null,-1))),c={class:"w_application"},u={class:"row fir_amount"},m={class:"w_amount"},w={key:0,class:"w_notice"},d=i((()=>(0,n._)("br",null,null,-1))),r={key:1,class:"w_notice"},_={class:"col-10"},h=i((()=>(0,n._)("img",{src:"statics/person_center/withdraw.svg"},null,-1))),p={class:"w_application"},g={class:"acc_info"},y={class:"acc_info"},b={class:"amount_num"},f={class:"w_intop"},k={key:0,src:"statics/community/w_in.svg"},$={key:1,src:"statics/community/w_in_e.svg"},q={class:"amount_num"};function v(t,a,e,i,v,W){const z=(0,n.up)("q-btn"),C=(0,n.up)("q-card-actions"),x=(0,n.up)("q-separator"),Z=(0,n.up)("q-card-section"),Q=(0,n.up)("q-input"),D=(0,n.up)("q-card"),U=(0,n.up)("q-item-label"),I=(0,n.up)("q-item-section"),V=(0,n.up)("q-item"),S=(0,n.up)("q-list"),B=(0,n.up)("q-btn-dropdown"),H=(0,n.up)("q-dialog"),L=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",o,[(0,n.Wm)(D,{class:"col-12 shadow-0"},{default:(0,n.w5)((()=>[(0,n.Wm)(C,null,{default:(0,n.w5)((()=>[(0,n.Wm)(z,{onClick:a[0]||(a[0]=t=>this.$router.push("/community/myWallet")),style:{"font-size":"14px","font-weight":"400",color:"#999999"},unelevated:"",label:t.goblack},null,8,["label"])])),_:1}),(0,n.Wm)(x,{inset:""}),(0,n.Wm)(Z,{horizontal:"",class:"q-pa-md"},{default:(0,n.w5)((()=>[l,(0,n._)("span",c,(0,s.zw)(t.$t("community.withdraw.withdrawal_application")),1)])),_:1}),(0,n.Wm)(x,{inset:""}),(0,n.Wm)(Z,{class:"q-pa-md"},{default:(0,n.w5)((()=>[(0,n._)("div",u,[(0,n._)("div",m,(0,s.zw)(t.$t("community.withdraw.submit_amount"))+"(￥): ",1),(0,n.Wm)(Q,{"input-style":"font-size: 18px;font-weight: 500;color:#333333",type:"number",dense:"",autofocus:"",modelValue:t.amount_sub,"onUpdate:modelValue":a[1]||(a[1]=a=>t.amount_sub=a),keyup:this.amount_sub=this.amount_sub.match(/\d+(\.\d{0,2})?/)?this.amount_sub.match(/\d+(\.\d{0,2})?/)[0]:"",rules:[t=>t&&t>=800||this.amount_small+"800",t=>t&&1*this.withdrawal_amount>=1*t||this.beyond],outlined:"",style:{width:"180px","margin-left":"20px","margin-top":"20px"}},null,8,["modelValue","keyup","rules"])]),"China"===t.area?((0,n.wg)(),(0,n.iD)("div",w,[(0,n.Uk)((0,s.zw)(t.$t("community.withdraw.notice1"))+" ",1),d,(0,n.Uk)("            "+(0,s.zw)(t.$t("community.withdraw.notice2")),1)])):(0,n.kq)("",!0),"China"!==t.area?((0,n.wg)(),(0,n.iD)("div",r,(0,s.zw)(t.$t("community.withdraw.notice5")),1)):(0,n.kq)("",!0)])),_:1})])),_:1}),(0,n.Wm)(D,{class:"col-12 shadow-0",style:{"margin-top":"30px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(Z,{horizontal:"",class:"q-pa-md row"},{default:(0,n.w5)((()=>[(0,n._)("div",_,[h,(0,n._)("span",p,(0,s.zw)(t.$t("community.withdraw.wai")),1)]),(0,n.Wm)(B,{class:"col-2 toggle_btn",unelevated:"",label:t.chose_amount},{default:(0,n.w5)((()=>[(0,n.Wm)(S,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.amount,(a=>(0,n.wy)(((0,n.wg)(),(0,n.j4)(V,{clickable:"",onClick:e=>t.chose_accounts(a.alipay_account)},{default:(0,n.w5)((()=>[(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[(0,n.Wm)(U,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(a.alipay_account),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[L]]))),256))])),_:1})])),_:1},8,["label"])])),_:1}),(0,n.Wm)(x,{inset:""}),(0,n.Wm)(Z,{class:"q-pa-md"},{default:(0,n.w5)((()=>[(0,n._)("div",g,(0,s.zw)(t.$t("community.withdraw.account_type"))+"     "+(0,s.zw)(t.$t("community.withdraw.alipay")),1),(0,n._)("div",y,[(0,n.Uk)((0,s.zw)(t.$t("community.withdraw.account_number"))+"     ",1),(0,n._)("span",b,(0,s.zw)(t.amount_num),1)])])),_:1}),(0,n.Wm)(C,{class:"q-pa-md flex-center pad_sub_btn"},{default:(0,n.w5)((()=>[(0,n.Wm)(z,{class:"sub_btn",flat:"",onClick:a[2]||(a[2]=a=>t.submit())},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(t.$t("index.submit")),1)])),_:1})])),_:1})])),_:1})]),(0,n.Wm)(H,{modelValue:t.notice,"onUpdate:modelValue":a[4]||(a[4]=a=>t.notice=a),"full-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(D,{class:(0,s.C_)({dia_hans:"zh-hans"===this.$q.cookies.get("lang"),dia_en:"zh-hans"!==this.$q.cookies.get("lang")})},{default:(0,n.w5)((()=>[(0,n.Wm)(Z,{class:"text-center"},{default:(0,n.w5)((()=>[(0,n._)("span",f,(0,s.zw)(t.$t("community.withdraw.w_ins")),1)])),_:1}),(0,n.Wm)(x,{inset:""}),(0,n.Wm)(Z,{class:"flex flex-center"},{default:(0,n.w5)((()=>["zh-hans"===this.$q.cookies.get("lang")?((0,n.wg)(),(0,n.iD)("img",k)):(0,n.kq)("",!0),"zh-hans"!==this.$q.cookies.get("lang")?((0,n.wg)(),(0,n.iD)("img",$)):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)(x,{inset:""}),(0,n.Wm)(C,{class:"flex-center",style:{"padding-top":"20px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(z,{class:"w_intop_btn",flat:"",onClick:a[3]||(a[3]=a=>t.notice=!1)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(t.$t("index.confirm")),1)])),_:1})])),_:1}),(0,n.Wm)(Z,{class:"text-center",style:{"padding-top":"0"}},{default:(0,n.w5)((()=>[(0,n._)("span",q,(0,s.zw)(t.$t("community.withdraw.agree")),1)])),_:1})])),_:1},8,["class"])])),_:1},8,["modelValue"])],64)}var W=e(5474);const z=(0,n.aZ)({name:"withdraw",data(){return{notice:!1,area:"",amount:"",amount_num:"",s_amount:"",chose_amount:this.$t("community.withdraw.switch_accounts"),goblack:this.$t("community.black"),amount_sub:"800",amount_small:this.$t("community.withdraw.amount_small"),tax:"0",withdrawal_amount:"",wallet_type:"",beyond:this.$t("community.withdraw.beyond")}},methods:{getWalletDetail(){var t=this;(0,W.getauth)("pay/api/v1/r_wallet/").then((a=>{t.withdrawal_amount=a.result.data[0].withdrawal_amount,t.amount_sub=a.result.data[0].withdrawal_amount}))},account_list(){var t=this;t.$q.cookies.get("token")?(0,W.getauth)("/pay/api/v1/rnbccount/?").then((a=>{t.amount=a,a[0]&&(t.amount_num=a[0].alipay_account)})).catch((a=>{t.$q.notify({message:a.detail,icon:"close",color:"negative"})})):t.$q.notify({message:"err.detail",icon:"close",color:"negative"})},chose_accounts(t){var a=this;a.amount_num=t},submit(){var t=this;if(1*t.withdrawal_amount>=1*t.amount_sub&&1*t.amount_sub>=800&&""!==t.amount_num){var a={};a.balance=t.amount_sub,a.paypal_account=t.amount_num,(0,W.postauth)("pay/api/v1/r_cash/",a).then((a=>{console.log(a),t.$q.notify({message:t.$t("community.withdraw.withdraw_suc"),icon:"check",color:"green"})})).catch((a=>{t.$q.notify({message:a.detail,icon:"close",color:"negative"})}))}else t.$q.notify({message:t.$t("community.withdraw.withdraw_err"),icon:"close",color:"negative"})}},mounted(){this.$q.cookies.has("area")&&(this.area=this.$q.cookies.get("area"),"China"===this.$q.cookies.get("area")?this.notice=!0:this.notice=!1),this.account_list(),this.getWalletDetail(),this.$store.dispatch("bbsChange/isIndexMenu",!1),this.$store.dispatch("bbsChange/link","wallet")}});var C=e(4260),x=e(151),Z=e(9367),Q=e(2165),D=e(5869),U=e(5589),I=e(4842),V=e(2226),S=e(7011),B=e(3414),H=e(2035),L=e(2350),Y=e(6778),j=e(677),A=e(7518),K=e.n(A);const M=(0,C.Z)(z,[["render",v],["__scopeId","data-v-12d1973b"]]),P=M;K()(z,"components",{QCard:x.Z,QCardActions:Z.Z,QBtn:Q.Z,QSeparator:D.Z,QCardSection:U.Z,QInput:I.Z,QBtnDropdown:V.Z,QList:S.Z,QItem:B.Z,QItemSection:H.Z,QItemLabel:L.Z,QDialog:Y.Z}),K()(z,"directives",{ClosePopup:j.Z})}}]);