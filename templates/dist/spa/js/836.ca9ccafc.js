"use strict";(self["webpackChunktemplates"]=self["webpackChunktemplates"]||[]).push([[836],{1836:(e,t,i)=>{i.r(t),i.d(t,{default:()=>he});var l=i(3673),a=i(2323),o=i(8880);const s=e=>((0,l.dD)("data-v-659ade5e"),e=e(),(0,l.Cn)(),e),n={class:"row my-font"},c=["src"],d=s((()=>(0,l._)("div",{class:"col-2"},null,-1))),r={class:"col-3 my-font my_homenick"},m=s((()=>(0,l._)("img",{src:"statics/modify_white.svg"},null,-1))),p=[m],_=s((()=>(0,l._)("div",{class:"col-2"},null,-1))),u={class:"col-3 my-font my_homeintro"},g=s((()=>(0,l._)("div",{class:"col-3"},null,-1))),h={style:{float:"right"},class:"col-4"},y={class:"my-font",style:{"margin-left":"10px"}},f={class:"text-h6 q-mt-sm q-mb-xs"},w={style:{height:"400px"},class:"q-pa-md"},x={class:"flex flex-center"},v={class:"q-pa-md flex flex-center default_page"},b={key:1},k={key:0},q={class:"col-11 my-font card_tol Wrap_two"},C={class:"col-1",style:{"margin-left":"10px"}},z={key:0,class:"Moderated text-center"},$={key:1,class:"Review_failed text-center"},W={class:"q-pa-md",style:{"margin-top":"-10px"}},D={class:"my-font",style:{"font-size":"14px","font-weight":"400",color:"#999999"}},Z={class:"my-font-D",style:{"font-size":"14px","font-weight":"400",color:"#999999","margin-left":"1%"}},Q={style:{"font-size":"14px!important"}},S={class:"my-font",style:{"font-size":"14px!important"}},U={style:{float:"right"}},V=["onClick"],A=s((()=>(0,l._)("span",{class:"my-font a_text"},"  /  ",-1))),I=["onClick"],M=s((()=>(0,l._)("div",{style:{width:"97%","border-bottom":"1px #DCDCDC solid",margin:"0 auto"}},null,-1))),j={class:"my-font rel_dialog q-pa-md row",style:{"border-bottom":"1px #dcdcdc solid"}},B={class:"col-11 my-font edit_top"},L={class:"q-pa-md",style:{width:"100%",height:"100px"}},P={class:"my-font edit_tit"},E={class:"column q-pa-md",style:{width:"100%",height:"250px"}},H={class:"col-1 my-font rel_problem"},N=s((()=>(0,l._)("div",{class:"col-1"},null,-1))),R={class:"col-1"},F={class:"q-pa-md",style:{width:"100%"}},G={class:"my-font"},K={key:2,style:{width:"96.1%","border-bottom":"1px #DCDCDC solid",margin:"0 auto"}},T={class:"my-font del_diaCard_tip"},Y={style:{float:"right"}},J={style:{"border-top":"1px #DCDCDC solid"}},O={class:"my-font del_diaCard_msg1 text-center"},X={class:"q-pa-xl"};function ee(e,t,i,s,m,ee){const te=(0,l.up)("q-avatar"),ie=(0,l.up)("q-card-section"),le=(0,l.up)("q-btn"),ae=(0,l.up)("q-separator"),oe=(0,l.up)("q-img"),se=(0,l.up)("q-card"),ne=(0,l.up)("q-editor"),ce=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",n,[(0,l.Wm)(se,{class:"col-12"},{default:(0,l.w5)((()=>[(0,l.Wm)(ie,{class:"row",style:{height:"180px","background-image":"url('statics/homepagebg.png')","background-repeat":"no-repeat","background-size":"cover"}},{default:(0,l.w5)((()=>[(0,l.Wm)(ie,{class:"col-2"},{default:(0,l.w5)((()=>[(0,l.Wm)(te,{size:"120px"},{default:(0,l.w5)((()=>[(0,l._)("img",{src:e.per_icon,style:{"border-radius":"61px",background:"white"}},null,8,c)])),_:1})])),_:1}),(0,l.Wm)(ie,{class:"col-7 column",style:{"margin-left":"20px"}},{default:(0,l.w5)((()=>[d,(0,l._)("div",r,[(0,l._)("span",null,(0,a.zw)(e.myhome.nickname),1),(0,l._)("span",{style:{"margin-left":"16px",cursor:"pointer"},onClick:t[0]||(t[0]=t=>e.tochangMsg())},p)]),_,(0,l._)("div",u,(0,a.zw)(e.myhome.intro),1)])),_:1}),(0,l.Wm)(ie,{class:"col-2 column"},{default:(0,l.w5)((()=>[g,(0,l._)("div",h,[(0,l.Wm)(le,{icon:"img:statics/homepage_push.svg",onClick:t[1]||(t[1]=t=>e.$store.dispatch("bbsChange/releasediaChange",!0)),style:{background:"white",color:"#116FEC",width:"130px",height:"32px",float:"right"}},{default:(0,l.w5)((()=>[(0,l._)("span",y,(0,a.zw)(e.$t("community.push_note")),1)])),_:1})])])),_:1})])),_:1}),(0,l.Wm)(ae,{inset:""}),(0,l.Wm)(ie,null,{default:(0,l.w5)((()=>[(0,l.Wm)(ie,{class:"q-pt-xs"},{default:(0,l.w5)((()=>[(0,l._)("div",f,(0,a.zw)(e.$t("community.my_article")),1)])),_:1}),(0,l.Wm)(ae,{inset:""})])),_:1}),!0===e.default_page?((0,l.wg)(),(0,l.j4)(se,{key:0,class:"q-pa-md",style:{"padding-top":"100px"}},{default:(0,l.w5)((()=>[(0,l._)("div",w,[(0,l._)("div",x,[(0,l.Wm)(oe,{width:"107px",height:"117px",src:"statics/community/default_page.svg"})]),(0,l._)("div",v,(0,a.zw)(e.$t("community.default_page")),1)])])),_:1})):(0,l.kq)("",!0),!1===e.default_page?((0,l.wg)(),(0,l.iD)("div",b,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.myAllarticle,((i,s)=>((0,l.wg)(),(0,l.j4)(se,{key:s,square:"",class:"col-12 q-pa-md my-card shadow-0",style:{"padding-top":"0"}},{default:(0,l.w5)((()=>[e.num_index[s]?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",k,[(0,l.Wm)(ie,{class:"row",style:{"padding-top":"0"}},{default:(0,l.w5)((()=>[(0,l._)("span",q,(0,a.zw)(i.title),1),(0,l._)("span",C,["2"===i.check_person?((0,l.wg)(),(0,l.iD)("div",z,(0,a.zw)(e.$t("community.not_reviewed")),1)):(0,l.kq)("",!0),"0"===i.check_person?((0,l.wg)(),(0,l.iD)("div",$,(0,a.zw)(e.$t("community.review_failed")),1)):(0,l.kq)("",!0)])])),_:2},1024),(0,l.Wm)(ie,{style:{"margin-top":"-20px"},horizontal:""},{default:(0,l.w5)((()=>[(0,l.Wm)(ie,{class:"Wrap_two article_text my-font"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(i.intro),1)])),_:2},1024)])),_:2},1024),(0,l._)("div",W,[(0,l._)("span",D,[(0,l.Wm)(oe,{style:{"margin-top":"-2px","margin-right":"10px"},width:"12px",height:"14px",src:"statics/author.svg"}),(0,l.Uk)(" "+(0,a.zw)(i.author_icon.author),1)]),(0,l._)("span",Z,[(0,l._)("span",Q,(0,a.zw)(e.$t("community.push_time")),1),(0,l._)("span",S,(0,a.zw)(i.updata_time),1)]),(0,l._)("div",U,[(0,l._)("a",{onClick:t=>{e.del_articles=!0,e.id_index=i.id},class:"a_text my-font",style:{cursor:"pointer","border-bottom":"1px black solid"}},(0,a.zw)(e.$t("community.del")),9,V),A,(0,l._)("a",{onClick:t=>{e.pre_edit=!0,e.per_index=i.id,e.per_problem=i.title,e.per_qeditor=i.content,this.num_index[s]=!0},class:"a_text my-font",style:{cursor:"pointer","border-bottom":"1px black solid"}},(0,a.zw)(e.$t("community.edit")),9,I)])]),M])),e.num_index[s]?((0,l.wg)(),(0,l.j4)(ie,{key:1,style:{height:"500px"}},{default:(0,l.w5)((()=>[(0,l._)("div",j,[(0,l._)("div",B,(0,a.zw)(e.$t("community.edit_article")),1),(0,l.Wm)(le,{class:"col-1",unelevated:"",icon:"close",onClick:t[2]||(t[2]=t=>e.cancel_edit()),style:{width:"16px",height:"16px","margin-left":"12px"}})]),(0,l._)("div",L,[(0,l._)("div",P,(0,a.zw)(e.$t("community.tip")),1),(0,l.wy)((0,l._)("input",{class:"rel_problem","onUpdate:modelValue":t[3]||(t[3]=t=>e.per_problem=t),style:{width:"100%",height:"42px",border:"1px solid #e4e4e4","margin-top":"10px"}},null,512),[[o.nr,e.per_problem]])]),(0,l._)("div",E,[(0,l._)("div",H,(0,a.zw)(e.$t("community.content")),1),N,(0,l._)("div",R,[(0,l.Wm)(ne,{style:{height:"200px","overflow-y":"auto","overflow-x":"auto"},modelValue:e.per_qeditor,"onUpdate:modelValue":t[4]||(t[4]=t=>e.per_qeditor=t),dense:e.$q.screen.lt.md,toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","subscript","superscript"],[{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]}],["quote","unordered"],["viewsource"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["modelValue","dense","toolbar"])])]),(0,l._)("div",F,[(0,l.Wm)(le,{unelevated:"",class:"finish_btn",style:{float:"right",width:"110px",height:"40px"},onClick:t[5]||(t[5]=t=>{e.edit_article(e.per_index),e.cancel_edit()})},{default:(0,l.w5)((()=>[(0,l._)("span",G,(0,a.zw)(e.$t("community.finish")),1)])),_:1})])])),_:1})):(0,l.kq)("",!0),e.num_index[s]?((0,l.wg)(),(0,l.iD)("div",K)):(0,l.kq)("",!0)])),_:2},1024)))),128))])):(0,l.kq)("",!0)])),_:1})]),(0,l.Wm)(ce,{modelValue:e.del_articles,"onUpdate:modelValue":t[9]||(t[9]=t=>e.del_articles=t),"full-width":""},{default:(0,l.w5)((()=>[(0,l.Wm)(se,{class:"del_diaCard q-pa-md"},{default:(0,l.w5)((()=>[(0,l._)("span",T,(0,a.zw)(e.$t("community.hint")),1),(0,l._)("span",Y,[(0,l.Wm)(le,{padding:"0",flat:"",icon:"close",onClick:t[6]||(t[6]=t=>e.del_articles=!1)})]),(0,l._)("div",J,[(0,l._)("div",O,(0,a.zw)(e.$t("community.confirm_del")),1)]),(0,l._)("div",X,[(0,l._)("div",null,[(0,l.Wm)(le,{unelevated:"",class:"del_diaCard_btn1 my-font text-center",onClick:t[7]||(t[7]=t=>e.delete_article(e.id_index))},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.$t("index.confirm")),1)])),_:1}),(0,l.Wm)(le,{unelevated:"",class:"del_diaCard_btn2",style:{float:"right"},onClick:t[8]||(t[8]=t=>e.del_articles=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.$t("index.cancel")),1)])),_:1})])])])),_:1})])),_:1},8,["modelValue"])])}var te=i(5474),ie=(i(2471),i(51));const le=(0,l.aZ)({name:"per_homepage",data(){return{per_icon:"",per_problem:"",per_qeditor:"",id_index:"",del_articles:!1,myAllarticle:[],pre_edit:!1,per_index:"",num_index:[],default_page:!1}},computed:{myhome(){return this.$store.state.bbsChange.user_info}},methods:{getPerarticle(){var e=this;(0,te.getauth)("/article/api/v1/article/").then((t=>{0===t.count?e.default_page=!0:e.myAllarticle=t.results})).catch((t=>{e.$q.notify({message:t.detail,icon:"close",color:"negative"})}))},delete_article(e){var t=this;(0,te.deleteauth)("/article/api/v1/article/"+e).then((e=>{console.log(e),t.$q.notify({message:t.$t("community.del_suc"),icon:"check",color:"green"}),location.reload()})).catch((e=>{t.$q.notify({message:e.detail,icon:"close",color:"negative"})}))},edit_article(e){var t=this,i={};i["title"]=t.per_problem,i["content"]=t.per_qeditor,(0,te.putauth)("/article/api/v1/article/"+e+"/",i).then((e=>{200===e.code?(t.$q.notify({message:t.$t("community.edit_suc"),icon:"check",color:"green"}),location.reload()):t.$q.notify({message:t.$t("community.change_err"),icon:"close",color:"negative"})})).catch((e=>{t.$q.notify({message:e.detail,icon:"close",color:"negative"})}))},cancel_edit(){var e=this;e.num_index=!e.num_index,e.num_index=[]},tochangMsg(){var e=this;e.$store.dispatch("bbsChange/isIndexMenu",!1),e.$router.push({name:"changePsd"})}},mounted(){if(this.$q.cookies.has("token")){let e=(0,ie.Z)(this.$q.cookies.get("token"));this.per_icon=window.g.BaseUrl+e.icon}this.getPerarticle(),this.$store.dispatch("bbsChange/isIndexMenu",!1),this.$store.dispatch("bbsChange/link","personalHomepage")}});var ae=i(4260),oe=i(151),se=i(5589),ne=i(5096),ce=i(2165),de=i(5869),re=i(4027),me=i(7201),pe=i(6778),_e=i(7518),ue=i.n(_e);const ge=(0,ae.Z)(le,[["render",ee],["__scopeId","data-v-659ade5e"]]),he=ge;ue()(le,"components",{QCard:oe.Z,QCardSection:se.Z,QAvatar:ne.Z,QBtn:ce.Z,QSeparator:de.Z,QImg:re.Z,QEditor:me.Z,QDialog:pe.Z})}}]);