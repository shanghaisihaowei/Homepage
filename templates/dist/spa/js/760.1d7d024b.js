"use strict";(self["webpackChunktemplates"]=self["webpackChunktemplates"]||[]).push([[760],{9760:(t,e,a)=>{a.r(e),a.d(e,{default:()=>it});var l=a(3673),s=a(2323);const i=t=>((0,l.dD)("data-v-2e5685cc"),t=t(),(0,l.Cn)(),t),n=i((()=>(0,l._)("span",null,[(0,l._)("img",{class:"icon_top",src:"statics/person_center/total_revenue.svg"})],-1))),c={class:"tit_top my-font"},o={style:{float:"right"}},r=i((()=>(0,l._)("img",{class:"icon_top",src:"statics/person_center/tip.svg",style:{"margin-top":"5px"}},null,-1))),m={class:"number_amount text-center my-font-D"},w=i((()=>(0,l._)("span",null,[(0,l._)("img",{class:"icon_top",src:"statics/person_center/withdraw.svg"})],-1))),u={class:"tit_top my-font"},d=i((()=>(0,l._)("img",{class:"icon_top",src:"statics/person_center/tip.svg",style:{"margin-top":"5px"}},null,-1))),h={class:"number_amount text-center my-font-D"},_=i((()=>(0,l._)("span",null,[(0,l._)("img",{class:"icon_top",src:"statics/person_center/income.svg"})],-1))),p={class:"tit_top my-font"},y={class:"number_amount text-center my-font-D"},g={class:"details q-ml-sm"},f={class:"details q-ml-sm"},v={class:"row table_height flex-center"},b={class:"text-center col-3"},$={class:"text-center col-3 void"},x={class:"text-center col-3 void"},z={class:"text-center col-2 void"},k={class:"text-center col-3"},q={class:"text-center col-3 void"},W={class:"text-center col-3 void"},D={class:"text-center col-2 void"},U={class:"row table_height flex-center"},P={class:"text-center col-2"},C={class:"text-center col-2 void"},Z={class:"text-center col-2 void"},V={class:"text-center col-4 void"},L={class:"text-center col-2"},Q={class:"text-center col-2 void"},T={class:"text-center col-2 void"},S={class:"text-center col-4 void"},A={key:0,class:"q-pa-md flex bg-white flex-center"},j={key:1,class:"flex flex-center q-mt-lg"},B=(0,l.Uk)("no more data");function H(t,e,a,i,H,I){const K=(0,l.up)("q-tab"),M=(0,l.up)("q-space"),Y=(0,l.up)("q-btn"),E=(0,l.up)("q-tabs"),N=(0,l.up)("q-separator"),F=(0,l.up)("q-tooltip"),G=(0,l.up)("q-card-section"),J=(0,l.up)("q-card"),O=(0,l.up)("q-tab-panel"),R=(0,l.up)("q-tab-panels"),X=(0,l.up)("q-pagination");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(J,{class:"top_card",flat:""},{default:(0,l.w5)((()=>[(0,l.Wm)(E,{style:{height:"78px"},"inline-label":"",modelValue:t.currency,"onUpdate:modelValue":e[2]||(e[2]=e=>t.currency=e),align:"left","narrow-indicator":"","indicator-color":"blue"},{default:(0,l.w5)((()=>[(0,l.Wm)(K,{name:"rmb",class:"details","no-caps":""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(t.$t("community.mywallet.rnb_wallet")),1)])),_:1}),(0,l.Wm)(K,{name:"dollar",class:"details","no-caps":""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(t.$t("community.mywallet.dollar_wallet")),1)])),_:1}),(0,l.Wm)(M),"rmb"===t.currency?((0,l.wg)(),(0,l.j4)(Y,{key:0,onClick:e[0]||(e[0]=e=>t.withdraw()),flat:"",dense:"",class:"withdraw q-mr-md","no-caps":""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(t.$t("community.mywallet.withdraw")),1)])),_:1})):(0,l.kq)("",!0),"rmb"!==t.currency?((0,l.wg)(),(0,l.j4)(Y,{key:1,flat:"",onClick:e[1]||(e[1]=e=>t.withdraw_foreign()),dense:"",class:"withdraw q-mr-md","no-caps":""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(t.$t("community.mywallet.withdraw")),1)])),_:1})):(0,l.kq)("",!0)])),_:1},8,["modelValue"]),(0,l.Wm)(N),(0,l.Wm)(G,{class:"row",horizontal:"",style:{height:"180px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(G,{class:"col-4"},{default:(0,l.w5)((()=>[n,(0,l._)("span",c,[(0,l.Uk)((0,s.zw)(t.$t("community.mywallet.total_revenue")),1),(0,l._)("span",null,(0,s.zw)("rmb"===t.currency?"(￥)":"($)")+"：",1)]),(0,l._)("span",o,[r,(0,l.Wm)(F,{self:"bottom right",offset:[10,-30]},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(t.$t("community.mywallet.tooltip1")),1)])),_:1})]),(0,l._)("div",m,(0,s.zw)(t.walletDetails.balance),1)])),_:1}),(0,l.Wm)(N,{vertical:""}),(0,l.Wm)(G,{class:"col-4"},{default:(0,l.w5)((()=>[w,(0,l._)("span",u,[(0,l.Uk)((0,s.zw)(t.$t("community.mywallet.withdrawnable")),1),(0,l._)("span",null,(0,s.zw)("rmb"===t.currency?"(￥)":"($)")+"：",1)]),(0,l._)("span",null,[d,(0,l.Wm)(F,{self:"bottom right",offset:[10,-30]},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(t.$t("community.mywallet.tooltip2")),1)])),_:1})]),(0,l._)("span",{class:"w_ins",onClick:e[3]||(e[3]=t=>this.$router.push("/community/withdrawal_instructions"))},(0,s.zw)(t.$t("community.mywallet.w_ins")),1),(0,l._)("div",h,[(0,l._)("span",{class:"tixian",onClick:e[4]||(e[4]=e=>t.withdraw())},(0,s.zw)(t.walletDetails.withdrawal_amount),1)])])),_:1}),(0,l.Wm)(N,{vertical:""}),(0,l.Wm)(G,{class:"col-4"},{default:(0,l.w5)((()=>[_,(0,l._)("span",p,[(0,l.Uk)((0,s.zw)(t.$t("community.mywallet.mcw")),1),(0,l._)("span",null,(0,s.zw)("rmb"==t.currency?"(￥)":"($)")+"：",1)]),(0,l._)("div",y,(0,s.zw)(t.withdraw_monthly),1)])),_:1})])),_:1})])),_:1}),(0,l.Wm)(J,{class:"sed_card top_border",flat:""},{default:(0,l.w5)((()=>[(0,l.Wm)(E,{style:{height:"78px"},"inline-label":"",modelValue:t.tab,"onUpdate:modelValue":e[6]||(e[6]=e=>t.tab=e),align:"left","narrow-indicator":"","indicator-color":"blue"},{default:(0,l.w5)((()=>[(0,l.Wm)(K,{icon:"img:statics/person_center/withdraw_det.svg",name:"one","no-caps":""},{default:(0,l.w5)((()=>[(0,l._)("span",g,(0,s.zw)(t.$t("community.mywallet.withdraw_detail")),1)])),_:1}),(0,l.Wm)(K,{class:"details",icon:"img:statics/person_center/income_det.svg",name:"two","no-caps":""},{default:(0,l.w5)((()=>[(0,l._)("span",f,(0,s.zw)(t.$t("community.mywallet.earnings_detail")),1)])),_:1}),(0,l.Wm)(M),(0,l.Wm)(Y,{onClick:e[5]||(e[5]=t=>this.$router.push("/community/myAccount")),flat:"",dense:"",class:"withdraw q-mr-md","no-caps":""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(t.$t("community.mywallet.withdraw_account")),1)])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(N),(0,l.Wm)(R,{modelValue:t.tab,"onUpdate:modelValue":e[7]||(e[7]=e=>t.tab=e),animated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(O,{class:"no-padding",name:"one"},{default:(0,l.w5)((()=>[(0,l._)("div",v,[(0,l._)("span",b,(0,s.zw)(t.$t("community.mywallet.date")),1),(0,l._)("span",$,[(0,l.Uk)((0,s.zw)(t.$t("community.mywallet.withdrawal_Amount")),1),(0,l._)("span",null,(0,s.zw)("rmb"==t.currency?"(￥)":"($)"),1)]),(0,l._)("span",x,(0,s.zw)(t.$t("community.mywallet.Withdrawal_type")),1),(0,l._)("span",z,(0,s.zw)(t.$t("community.mywallet.state")),1)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.detailsList2,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"row table_height flex-center",key:e},[(0,l._)("span",k,(0,s.zw)(e.create_time),1),(0,l._)("span",q,(0,s.zw)(e.balance),1),(0,l._)("span",W,(0,s.zw)(e.withdrawal_type),1),(0,l._)("span",D,(0,s.zw)(t.getWithdrawStatus(e.verify_status)),1)])))),128))])),_:1}),(0,l.Wm)(O,{class:"no-padding",name:"two"},{default:(0,l.w5)((()=>[(0,l._)("div",U,[(0,l._)("span",P,(0,s.zw)(t.$t("community.mywallet.date")),1),(0,l._)("span",C,(0,s.zw)(t.$t("community.mywallet.user")),1),(0,l._)("span",Z,[(0,l.Uk)((0,s.zw)(t.$t("community.mywallet.earnings_amount")),1),(0,l._)("span",null,(0,s.zw)("rmb"==t.currency?"(￥)":"($)"),1)]),(0,l._)("span",V,(0,s.zw)(t.$t("community.mywallet.detail")),1)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.detailsList,(t=>((0,l.wg)(),(0,l.iD)("div",{class:"row table_height flex-center",key:t},[(0,l._)("span",L,(0,s.zw)(t.create_time),1),(0,l._)("span",Q,(0,s.zw)(t.user),1),(0,l._)("span",T,(0,s.zw)(t.total),1),(0,l._)("span",S,(0,s.zw)(t.title),1)])))),128))])),_:1})])),_:1},8,["modelValue"]),t.hasPagination?((0,l.wg)(),(0,l.iD)("div",A,[(0,l.Wm)(X,{class:"q_pagination","direction-links":"",modelValue:t.currentPage,"onUpdate:modelValue":e[8]||(e[8]=e=>t.currentPage=e),max:t.maxPages,"max-pages":6},null,8,["modelValue","max"])])):(0,l.kq)("",!0),t.hasPagination?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",j,[(0,l.Wm)(Y,{flat:""},{default:(0,l.w5)((()=>[B])),_:1})]))])),_:1})])}var I=a(5474);const K=(0,l.aZ)({name:"myWallet",data(){return{tab:"one",currency:"rmb",currentPage:1,hasPagination:!1,maxPages:1,detailsList:[],detailsList2:[],walletDetails:{},withdraw_monthly:"0.00",wallet_type:"",withdraw_type:"",getwithdrawUrl:"",isverify:!1}},watch:{currentPage(t){this.redirectPage(t)},currency:{handler:function(t){"rmb"===t?(this.wallet_type="r_wallet",this.detail_type="rmb_salary",this.withdraw_type="r_cash",this.getwithdrawUrl="pay/api/v1/rnbccount/"):(this.wallet_type="d_wallet",this.detail_type="dollar_salary",this.withdraw_type="d_cash",this.getwithdrawUrl="pay/api/v1/usd_account/"),this.getWalletDetail()},immediate:!0},tab:{handler(t){"one"==t?this.getWithdrawDetail():this.getDetailsList()},immediate:!0}},methods:{getWithdrawStatus(t){switch(t){case 0:return this.$t("community.authentication_view.audit_failed");case 1:return this.$t("community.authentication_view.auditing");case 2:return this.$t("community.mywallet.paid")}},getWalletDetail(){var t=this;(0,I.getauth)(`pay/api/v1/${t.wallet_type}/`).then((e=>{t.walletDetails={balance:e.result.data[0].balance,withdrawal_amount:e.result.data[0].withdrawal_amount},t.withdraw_monthly=e.result.Cumulative}))},getcumulative(){var t=this;(0,I.getauth)("").then((t=>{})).catch((e=>{t.$q.notify({message:e.detail,icon:"close",color:"negative"})}))},getWithdrawDetail(){(0,I.getauth)(`pay/api/v1/${this.withdraw_type}/`).then((t=>{this.detailsList2=t}))},setDetailsList(t){this.detailsList=t.results,t.next||t.previous?this.hasPagination=!0:this.hasPagination=!1},getDetailsList(){(0,I.getauth)(`pay/api/v1/${this.detail_type}/`).then((t=>{t.count&&(this.setDetailsList(t),this.maxPages=Math.ceil(t.count/20))}))},redirectPage(t){(0,I.getauth)("?page="+t).then((t=>{this.setDetailsList(t),document.getElementsByClassName("q-scrollarea__container")[0].scrollTop=0}))},withdraw(){var t=this;"China"===t.$q.cookies.get("area")&&(0,I.getauth)("/user/api/v1/auth_status/").then((e=>{t.isverify=e.result.status,!0===t.isverify?((0,I.getauth)(t.getwithdrawUrl).then((e=>{0===e.length&&(t.$q.notify({message:"您暂未绑定提现账户，请先前往绑定",icon:"close",color:"negative"}),t.$router.push("/community/myAccount"))})).catch((e=>{t.$q.notify({message:e.detail,icon:"close",color:"negative"})})),t.walletDetails.withdrawal_amount<800?this.$q.notify({message:"钱包余额不足800，暂时无法提现",icon:"close",color:"negative"}):t.$router.push("/community/withdraw")):t.$q.notify({message:"您还没有完成实名认证，请认证成功后再试",icon:"close",color:"negative"})})).catch((e=>{t.$q.notify({message:e.detail,icon:"close",color:"negative"})}))},withdraw_foreign(){var t=this;(0,I.getauth)(t.getwithdrawUrl).then((e=>{0===e.length&&(t.$q.notify({message:"您暂未绑定提现账户，请先前往绑定",icon:"close",color:"negative"}),t.$router.push("/community/myAccount"))})).catch((e=>{t.$q.notify({message:e.detail,icon:"close",color:"negative"})})),t.walletDetails.withdrawal_amount<100?this.$q.notify({message:"钱包余额不足800，暂时无法提现",icon:"close",color:"negative"}):t.$router.push("/community/withdraw_foreign")}},mounted(){this.$store.dispatch("bbsChange/isIndexMenu",!1),this.$store.dispatch("bbsChange/link","wallet")}});var M=a(4260),Y=a(151),E=a(7547),N=a(3269),F=a(2025),G=a(2165),J=a(5869),O=a(5589),R=a(8870),X=a(5906),tt=a(6602),et=a(7300),at=a(7518),lt=a.n(at);const st=(0,M.Z)(K,[["render",H],["__scopeId","data-v-2e5685cc"]]),it=st;lt()(K,"components",{QCard:Y.Z,QTabs:E.Z,QTab:N.Z,QSpace:F.Z,QBtn:G.Z,QSeparator:J.Z,QCardSection:O.Z,QTooltip:R.Z,QTabPanels:X.Z,QTabPanel:tt.Z,QPagination:et.Z})}}]);