"use strict";(self["webpackChunktemplates"]=self["webpackChunktemplates"]||[]).push([[664],{7537:(e,t,a)=>{a.r(t),a.d(t,{default:()=>M});var s=a(3673),i=a(2323);const r={class:"plugins_view_container"},n={key:0,class:"q-pa-md flex bg-white flex-center"},o={key:1,class:"flex flex-center q-mt-lg"},l=(0,s.Uk)("no more data");function g(e,t,a,g,m,h){const d=(0,s.up)("q-select"),p=(0,s.up)("q-card-section"),c=(0,s.up)("q-btn"),u=(0,s.up)("q-card"),f=(0,s.up)("plugins-list"),w=(0,s.up)("q-pagination");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s.Wm)(u,{flat:"",square:"",class:"header_container flex"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{style:{"padding-top":"0","padding-bottom":"0"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"header",borderless:"",modelValue:m.sortordVal,"onUpdate:modelValue":t[0]||(t[0]=e=>m.sortordVal=e),options:m.sortordOptions},null,8,["modelValue","options"])])),_:1}),this.$q.cookies.get("token")?((0,s.wg)(),(0,s.j4)(p,{key:0,style:{padding:"0 16px 0 0"},class:"flex flex-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{onClick:t[1]||(t[1]=e=>this.$router.push("/market/pluginRelease/newPlugin")),color:"primary"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(e.$t("community.e_shop_view.release_plugins")),1)])),_:1})])),_:1})):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(f,{pluginList:m.pluginList,ref:"pluginsList"},null,8,["pluginList"]),m.hasPagination?((0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(w,{class:"q_pagination","direction-links":"",modelValue:m.currentPage,"onUpdate:modelValue":t[2]||(t[2]=e=>m.currentPage=e),max:m.maxPages,"max-pages":6},null,8,["modelValue","max"])])):(0,s.kq)("",!0),m.hasPagination?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(c,{flat:""},{default:(0,s.w5)((()=>[l])),_:1})]))])}a(71);var m=a(7226),h=a(5474),d=a(7286);const p={components:{PluginsList:m.Z},data(){return{head_title:"",meta:"",pluginList:[],sortordVal:this.$t("community.e_shop_view.sort_download"),sortordOptions:[this.$t("community.e_shop_view.sort_download"),this.$t("community.e_shop_view.sort_free"),this.$t("community.e_shop_view.sort_pay")],currentPage:1,hasPagination:!1,maxPages:1,affiliation:""}},watch:{currentPage(e){this.redirectPage(e)},sortordVal(e){for(let[t,a]of this.sortordOptions.entries())if(a===e){this.changeSortord(t);break}},$route:{handler(e){this.affiliation="GreaterWMS"===e.params.belong?0:1,"GreaterWMS"===e.params.belong?(this.$store.dispatch("bbsChange/logo","img:statics/logo_black.svg"),this.$store.dispatch("bbsChange/titletype","GreaterWMS")):(this.$store.dispatch("bbsChange/logo","img:statics/DV_logo.svg"),this.$store.dispatch("bbsChange/titletype","DVadmin")),this.getPlginsList(),this.$nextTick((()=>{this.setHtmlTitle(e.params.belong)}))},immediate:!0,deep:!0}},mixins:[(0,d.Z)((function(){return{title:this.head_title,meta:this.meta}}))],methods:{setPluginsList(e){this.pluginList=e.results,e.next||e.previous?this.hasPagination=!0:this.hasPagination=!1},getPlginsList(){(0,h.get)("software/api/v1/softwareget/?affiliation="+this.affiliation).then((e=>{this.setPluginsList(e),e.count&&(this.maxPages=Math.ceil(e.count/20))}))},redirectPage(e){(0,h.get)("software/api/v1/softwareget/?affiliation="+this.affiliation+"&page="+e).then((e=>{this.setPluginsList(e),document.getElementsByClassName("q-scrollarea__container")[0].scrollTop=0}))},changeSortord(e){let t;switch(e){case 0:t="software/api/v1/softwareget/?ordering=-people_buy";break;case 1:t="software/api/v1/softwareget/?release_form=0";break;case 2:t="software/api/v1/softwareget/?release_form=1";break}(0,h.get)(t).then((e=>{this.setPluginsList(e),this.maxPages=Math.ceil(e.count/20)}))},setHtmlTitle(e){"zh-hans"===this.$q.cookies.get("lang")?(this.head_title="GreaterWMS"===e?"GreaterWMS - 插件市场":"DVAdmin - 插件市场",this.meta={description:{name:"description",content:"GreaterWMS"===e?"GreaterWMS":"DVAdmin - Open Source Warehouse Management System"},keywords:{name:"keywords",content:"聚商汇WMS,开源仓库管理系统,仓库管理系统,wms,仓库管理软件,仓库管理,GreaterWMS, greaterwms"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"},ogTitle:{property:"og:title",template(t){return t+e==="GreaterWMS"?" - GreaterWMS":" - DVAdmin"}}}):(this.head_title="GreaterWMS"===e?"GreaterWMS - Market":"DVAdmin - Market",this.meta={description:{name:"description",content:"GreaterWMS"===e?"GreaterWMS":"DVAdmin - Open Source Warehouse Management System"},keywords:{name:"keywords",content:"GreaterWMS"===e?"GreaterWMS":"DVAdmin - Open Source Warehouse Management System, GreaterWMS, greaterwms, wms"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"},ogTitle:{property:"og:title",template(t){return t+e==="GreaterWMS"?" - GreaterWMS":" - DVAdmin"}}})}},mounted(){this.$refs.pluginsList.showBtnHandler(!1)}};var c=a(4260),u=a(151),f=a(5589),w=a(9396),_=a(2165),k=a(7300),S=a(7518),W=a.n(S);const y=(0,c.Z)(p,[["render",g],["__scopeId","data-v-783fd308"]]),M=y;W()(p,"components",{QCard:u.Z,QCardSection:f.Z,QSelect:w.Z,QBtn:_.Z,QPagination:k.Z})}}]);