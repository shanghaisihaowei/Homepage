"use strict";(self["webpackChunktemplates"]=self["webpackChunktemplates"]||[]).push([[512],{1512:(t,e,c)=>{c.r(e),c.d(e,{default:()=>H});var o=c(3673),l=c(2323),i=c(8880);const a={style:{color:"#333333","font-size":"16px",height:"calc(90vh)","background-color":"white"}},n={style:{"font-size":"20px",color:"white"}},s={class:"col-3 text-left"},u={class:"col-3"},d={class:"col-3 text-left"},m={class:"col-3 flex flex-center"},r=["src"],h={class:"col-2"},p={class:"col-2"},y={style:{"min-width":"120px"}},_={style:{height:"40px","line-height":"40px"}},w={style:{height:"40px","line-height":"40px"},class:"q-my-lg"},f={style:{height:"40px","line-height":"40px"}},g={key:0},b={key:1},x={style:{flex:"1"}},v={class:"q-px-md",style:{"background-color":"#ececec",height:"40px","line-height":"40px","border-radius":"4px"}},A={class:"flex"};function k(t,e,c,k,$,z){const q=(0,o.up)("q-tab"),C=(0,o.up)("q-tabs"),W=(0,o.up)("q-space"),U=(0,o.up)("q-btn"),D=(0,o.up)("q-card"),F=(0,o.up)("q-card-section"),V=(0,o.up)("q-input"),Z=(0,o.up)("q-card-actions"),Q=(0,o.up)("q-dialog"),I=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)("div",a,[(0,o.Wm)(D,{flat:"",class:"flex",style:{"align-items":"center"}},{default:(0,o.w5)((()=>[(0,o.Wm)(C,{modelValue:$.account_type,"onUpdate:modelValue":e[0]||(e[0]=t=>$.account_type=t),align:"left","narrow-indicator":"","indicator-color":"blue","inline-label":"",style:{"font-size":"20px","font-weight":"500"},class:"q-py-md"},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{name:"rmb","no-caps":""},{default:(0,o.w5)((()=>[(0,o._)("span",null,(0,l.zw)(t.$t("community.myAccount_view.rmb_account")),1)])),_:1}),(0,o.Wm)(q,{name:"dollar","no-caps":""},{default:(0,o.w5)((()=>[(0,o._)("span",null,(0,l.zw)(t.$t("community.myAccount_view.dollar_account")),1)])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(W),(0,o.Wm)(U,{onClick:z.addAccount,class:"q-mr-md",style:{"background-color":"#116fec","min-width":"120px",height:"40px"}},{default:(0,o.w5)((()=>[(0,o._)("span",n,(0,l.zw)(t.$t("community.myAccount_view.add_account")),1)])),_:1},8,["onClick"])])),_:1}),(0,o.Wm)(D,{flat:""},{default:(0,o.w5)((()=>[(0,o.Wm)(F,{class:"flex row q-py-none",style:{"background-color":"#f4f4f4","font-size":"18px",height:"60px","line-height":"60px","text-align":"center"}},{default:(0,o.w5)((()=>[(0,o._)("div",s,(0,l.zw)(t.$t("community.myAccount_view.account_number")),1),(0,o.wy)((0,o._)("div",{class:"col-2"},(0,l.zw)(t.$t("community.myAccount_view.account_holder")),513),[[i.F8,"rmb"==$.account_type]]),(0,o._)("div",u,(0,l.zw)(t.$t("community.myAccount_view.account_type")),1)])),_:1}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)($.accountList,(e=>((0,o.wg)(),(0,o.j4)(F,{class:"flex row text-center",style:{"align-items":"center"},key:e},{default:(0,o.w5)((()=>[(0,o._)("div",d,(0,l.zw)("rmb"==$.account_type?e.alipay_account:e.account_number),1),(0,o.wy)((0,o._)("div",{class:"col-2"},(0,l.zw)(e.account_holder),513),[[i.F8,"rmb"==$.account_type]]),(0,o._)("div",m,[(0,o._)("img",{class:"q-mr-sm",src:"rmb"==$.account_type?"statics/zfb.svg":"statics/paypal.svg"},null,8,r),(0,o.Uk)(" "+(0,l.zw)(e.account_type),1)]),(0,o._)("div",h,[(0,o.wy)((0,o.Wm)(U,{onClick:t=>z.setDefaultAccount(e.id),outline:"",rounded:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(t.$t("community.myAccount_view.set_default")),1)])),_:2},1032,["onClick"]),[[i.F8,!e.is_default]]),(0,o.wy)((0,o._)("span",{style:{color:"#c80808"}},(0,l.zw)(t.$t("community.myAccount_view.default_account")),513),[[i.F8,e.is_default]])]),(0,o._)("div",p,[(0,o.Wm)(U,{onClick:t=>{this.confirmDelete=!0,this.deleteId=e.id},flat:"",style:{"text-decoration":"underline",width:"60px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(t.$t("community.myAccount_view.delete")),1)])),_:2},1032,["onClick"])])])),_:2},1024)))),128))])),_:1}),(0,o.wy)((0,o.Wm)(D,{flat:"",class:"q-mt-xl"},{default:(0,o.w5)((()=>[(0,o.Wm)(F,{style:{"font-size":"18px","font-weight":"500","border-top":"1px solid #e6e6e6","border-bottom":"1px solid #e6e6e6"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(t.$t("community.myAccount_view.add_info")),1)])),_:1}),(0,o.Wm)(F,{class:"flex q-mt-lg"},{default:(0,o.w5)((()=>[(0,o._)("div",y,[(0,o._)("div",_,(0,l.zw)(t.$t("community.myAccount_view.email"))+"： ",1),(0,o._)("div",w,(0,l.zw)(t.$t("community.myAccount_view.code"))+"： ",1),(0,o._)("div",f,["rmb"!=$.account_type?((0,o.wg)(),(0,o.iD)("span",g,(0,l.zw)(t.$t("community.myAccount_view.paypal_account"))+"：",1)):(0,o.kq)("",!0),"rmb"==$.account_type?((0,o.wg)(),(0,o.iD)("span",b,(0,l.zw)(t.$t("community.myAccount_view.alipay_account"))+"：",1)):(0,o.kq)("",!0)])]),(0,o._)("div",x,[(0,o._)("div",v,(0,l.zw)($.email),1),(0,o._)("div",A,[(0,o.Wm)(V,{dense:"",outlined:"",modelValue:$.code,"onUpdate:modelValue":e[1]||(e[1]=t=>$.code=t),style:{width:"calc(100% - 190px)"},class:"q-my-lg myAccount",placeholder:this.$t("community.myAccount_view.code_placeholder")},null,8,["modelValue","placeholder"]),(0,o.Wm)(U,{onClick:z.getCode,disable:$.getCodeDis,style:{width:"190px","background-color":"#116fec",color:"white",height:"40px","border-top-left-radius":"0","border-bottom-left-radius":"0"},class:"q-mt-lg",flat:"",dense:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)($.btnText),1)])),_:1},8,["onClick","disable"])]),(0,o.Wm)(V,{modelValue:$.account,"onUpdate:modelValue":e[2]||(e[2]=t=>$.account=t),dense:"",outlined:"",placeholder:"rmb"==$.account_type?this.$t("community.myAccount_view.alipay_placeholder"):this.$t("community.myAccount_view.paypal_placeholder")},null,8,["modelValue","placeholder"])])])),_:1}),(0,o.Wm)(F,{class:"text-center q-mt-xl"},{default:(0,o.w5)((()=>[(0,o.Wm)(U,{disable:z.disabled,onClick:z.submit,style:{color:"white","background-color":"#116fec",width:"220px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(t.$t("community.authentication_view.submit")),1)])),_:1},8,["disable","onClick"])])),_:1})])),_:1},512),[[i.F8,$.showAddForm]]),(0,o.Wm)(Q,{modelValue:$.confirmDelete,"onUpdate:modelValue":e[3]||(e[3]=t=>$.confirmDelete=t),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(D,{style:{width:"470px",height:"180px","font-size":"18px",position:"relative"}},{default:(0,o.w5)((()=>[(0,o.Wm)(F,{class:"q-ma-md"},{default:(0,o.w5)((()=>[(0,o._)("span",null,(0,l.zw)(t.$t("community.myAccount_view.delete_tip"))+"？",1)])),_:1}),(0,o.Wm)(Z,{style:{position:"absolute",bottom:"0",right:"0"}},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(U,{flat:"",style:{"font-size":"18px","font-weight":"500"},label:this.$t("index.confirm"),color:"primary",onClick:z.deleteAccount},null,8,["label","onClick"]),[[I]]),(0,o.wy)((0,o.Wm)(U,{flat:"",style:{"font-size":"18px","font-weight":"500"},label:this.$t("index.cancel"),color:"primary"},null,8,["label"]),[[I]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var $=c(5474),z=c(51);const q={data(){return{account_type:"rmb",accountList:[],showAddForm:!1,code:"",account:"",email:"",btnText:this.$t("community.myAccount_view.get_code"),getAccountUrl:"",confirmDelete:!1,deleteId:"",getCodeDis:!1}},computed:{disabled(){return this.code&&this.account}},watch:{account_type:{handler(t){this.getAccountUrl="rmb"==t?"pay/api/v1/rnbccount/":"pay/api/v1/usd_account/",this.getAccounts(),this.showAddForm=!1},immediate:!0}},methods:{addAccount(){this.showAddForm=!0},resetAddForm(){this.showAddForm=!1,this.code="",this.account=""},getAccounts(){(0,$.getauth)(this.getAccountUrl).then((t=>{this.accountList=t}))},getCode(){this.btnText=this.$t("community.myAccount_view.email_time"),(0,$.getauth)("user/api/v1/account_codes/?email="+this.email).then((t=>{this.$q.notify({message:this.$t("community.sended_email"),icon:"check",color:"green"}),this.getCodeDis=!0}))},setDefaultAccount(t){(0,$.putauth)(`${this.getAccountUrl}${t}/`).then((t=>{this.accountList=t.result.data,this.$q.notify({message:t.result.msg,icon:"check",color:"green"})}))},deleteAccount(){(0,$.deleteauth)(`${this.getAccountUrl}${this.deleteId}/`).then((t=>{this.accountList=t.result.data,this.$q.notify({message:t.result.msg,icon:"check",color:"green"})}))},submit(){let t="rmb"==this.account_type?{alipay_account:this.account,code:this.code}:{account_number:this.account,code:this.code};(0,$.postauth)(this.getAccountUrl,t).then((t=>{t.result.msg?this.$q.notify({message:t.result.msg,icon:"close",color:"negative"}):(this.accountList=t.result.data,this.resetAddForm())}))}},created(){this.email=(0,z.Z)(this.$q.cookies.get("token")).email,this.$store.dispatch("bbsChange/isIndexMenu",!1),this.$store.dispatch("bbsChange/link","my_account")}};var C=c(4260),W=c(151),U=c(7547),D=c(3269),F=c(2025),V=c(2165),Z=c(5589),Q=c(4842),I=c(6778),L=c(9367),T=c(677),S=c(7518),j=c.n(S);const B=(0,C.Z)(q,[["render",k],["__scopeId","data-v-d6cff252"]]),H=B;j()(q,"components",{QCard:W.Z,QTabs:U.Z,QTab:D.Z,QSpace:F.Z,QBtn:V.Z,QCardSection:Z.Z,QInput:Q.Z,QDialog:I.Z,QCardActions:L.Z}),j()(q,"directives",{ClosePopup:T.Z})}}]);