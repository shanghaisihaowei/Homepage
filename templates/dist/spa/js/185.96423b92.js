"use strict";(self["webpackChunktemplates"]=self["webpackChunktemplates"]||[]).push([[185],{8574:(t,e,i)=>{i.r(e),i.d(e,{default:()=>A});var l=i(3673),o=i(2323);const a={style:{color:""}},s={class:"q-mt-md flex"},r={key:0,class:"q-ml-sm",src:"statics/zfb.svg"},d={key:1,src:"statics/paypal.svg"},n=["href"],m={class:"q-mb-md flex"},c={style:{"min-width":"100px"}},u={class:"q-mb-md"},p={class:"flex"},w={style:{"min-width":"100px"}},_={style:{"max-width":"calc(100% - 100px)"}},y={style:{"max-width":"calc(100% - 100px)","margin-left":"100px",color:"#666666"}},f={class:"q-mb-md flex"},g={style:{"min-width":"100px"}},h={class:"q-mb-md flex"},x={style:{"min-width":"100px"}},k={class:"q-mb-lg flex"},D={style:{"min-width":"100px"}},z={class:"q-pt-lg top_border flex",style:{width:"100%"}},b={style:{"min-width":"100px"}};function v(t,e,i,v,q,$){const C=(0,l.up)("q-btn"),W=(0,l.up)("q-card"),U=(0,l.up)("q-card-section"),P=(0,l.up)("pay-dialog"),Z=(0,l.up)("q-card-actions"),Q=(0,l.up)("q-dialog"),I=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(W,{square:"",flat:"",style:{color:"#999999"},class:"bottom_border q-py-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{class:"text-body1",onClick:e[0]||(e[0]=t=>this.$router.go(-1)),flat:""},{default:(0,l.w5)((()=>[(0,l.Uk)(" <"+(0,o.zw)(t.$t("community.e_shop_view.back")),1)])),_:1})])),_:1}),(0,l.Wm)(W,{flat:"",square:"",class:"bg-white q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{style:{"background-color":"#e7f0fd","font-size":"18px","border-radius":"4px"}},{default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Uk)((0,o.zw)(t.$t("community.order_detail.order_status"))+"：",1),(0,l._)("span",a,(0,o.zw)(q.pluginDetail.status),1)]),(0,l._)("div",s,[(0,l.Uk)((0,o.zw)(t.$t("community.order_detail.pay_mode"))+"： ",1),0==q.pluginDetail.currency?((0,l.wg)(),(0,l.iD)("img",r)):(0,l.kq)("",!0),1==q.pluginDetail.currency?((0,l.wg)(),(0,l.iD)("img",d)):(0,l.kq)("",!0)])])),_:1}),(0,l.Wm)(U,{class:"q-my-md flex",style:{"background-color":"#f0f0f0","font-size":"18px","border-radius":"4px","justify-content":"space-between","align-items":"center"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(t.$t("community.order_detail.order_info"))+" ",1),(0,l.Wm)(C,{flat:""},{default:(0,l.w5)((()=>["已支付"==q.pluginDetail.status?((0,l.wg)(),(0,l.iD)("a",{key:0,href:$.downloadUrl,style:{"font-size":"18px",color:"#116fec","text-decoration":"underline"}},(0,o.zw)(t.$t("community.e_shop_view.download"))+(0,o.zw)(t.$t("community.plugin")),9,n)):(0,l.kq)("",!0)])),_:1})])),_:1}),(0,l.Wm)(U,{style:{"font-size":"16px",color:"#333333"}},{default:(0,l.w5)((()=>[(0,l._)("div",m,[(0,l._)("div",c,(0,o.zw)(t.$t("community.order_detail.order_id"))+"： ",1),(0,l.Uk)(" "+(0,o.zw)(q.pluginDetail.order_id),1)]),(0,l._)("div",u,[(0,l._)("div",p,[(0,l._)("div",w,(0,o.zw)(t.$t("community.order_detail.plugin_info"))+"： ",1),(0,l._)("div",_,(0,o.zw)(q.pluginDetail.title),1)]),(0,l._)("div",y,(0,o.zw)(q.pluginDetail.brief),1)]),(0,l._)("div",f,[(0,l._)("div",g,(0,o.zw)(t.$t("community.order_detail.order_time"))+"： ",1),(0,l.Uk)(" "+(0,o.zw)(q.pluginDetail.create_time),1)]),(0,l._)("div",h,[(0,l._)("div",x,(0,o.zw)(t.$t("community.order_detail.pay_time"))+"： ",1),(0,l.Uk)(" "+(0,o.zw)(q.pluginDetail.pay_time),1)]),(0,l._)("div",k,[(0,l._)("div",D,(0,o.zw)(t.$t("community.order_detail.order_amount"))+"： ",1),(0,l.Uk)(" "+(0,o.zw)(q.pluginDetail.total_amount),1)]),(0,l._)("div",z,[(0,l._)("div",b,(0,o.zw)(t.$t("community.order_detail.pay_amount"))+"： ",1),(0,l.Uk)(" "+(0,o.zw)(q.pluginDetail.total_amount),1)])])),_:1}),"待支付"==this.pluginDetail.status?((0,l.wg)(),(0,l.j4)(U,{key:0,class:"text-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{style:{width:"300px","background-color":"#116fec",color:"white",display:"block",margin:"20px auto",height:"30px","line-height":"30px"},onClick:$.toPay},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(t.$t("community.order_detail.pay_now")),1)])),_:1},8,["onClick"]),(0,l.Wm)(C,{onClick:e[1]||(e[1]=t=>this.showConfirmDialog=!0),class:"q-mb-lg",flat:"",style:{color:"#999999"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(t.$t("community.order_detail.cancel_pay")),1)])),_:1})])),_:1})):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(P,{showPay:q.showPay,pluginInfo:q.orderDetail,onCloseDialog:$.closeDialog},null,8,["showPay","pluginInfo","onCloseDialog"]),(0,l.Wm)(Q,{modelValue:q.showConfirmDialog,"onUpdate:modelValue":e[2]||(e[2]=t=>q.showConfirmDialog=t),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(W,{style:{width:"470px",height:"180px","font-size":"18px",position:"relative"}},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{class:"q-ma-md"},{default:(0,l.w5)((()=>[(0,l._)("span",null,(0,o.zw)(t.$t("community.order_detail.cancel_tip"))+"？",1)])),_:1}),(0,l.Wm)(Z,{style:{position:"absolute",bottom:"0",right:"0"}},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(C,{flat:"",style:{"font-size":"18px","font-weight":"500"},label:this.$t("index.confirm"),color:"primary",onClick:$.cancelPay},null,8,["label","onClick"]),[[I]]),(0,l.wy)((0,l.Wm)(C,{flat:"",style:{"font-size":"18px","font-weight":"500"},label:this.$t("index.cancel"),color:"primary"},null,8,["label"]),[[I]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var q=i(4403),$=i(5474);const C={components:{PayDialog:q.Z},data(){return{pluginDetail:{},pluginId:"",showPay:!1,order_id:"",orderDetail:"",showConfirmDialog:!1}},computed:{downloadUrl(){return`${window.g.BaseUrl}software/api/v1/downzip/`+this.pluginDetail.software+"/?token="+this.$q.cookies.get("token")}},methods:{toPay(){this.showPay=!0,this.orderDetail=this.pluginDetail},closeDialog(t){this[t]=!1},cancelPay(){(0,$.deleteauth)("order/api/v1/my_order/"+this.order_id+"/").then((t=>{this.$router.push({path:"/community/myOrders"})}))},getOrderDetail(){(0,$.getauth)("order/api/v1/my_order/"+this.order_id+"/").then((t=>{this.pluginDetail=t}))}},created(){this.order_id=this.$route.params.id,this.getOrderDetail()}};var W=i(4260),U=i(151),P=i(2165),Z=i(5589),Q=i(6778),I=i(9367),O=i(677),V=i(7518),j=i.n(V);const B=(0,W.Z)(C,[["render",v]]),A=B;j()(C,"components",{QCard:U.Z,QBtn:P.Z,QCardSection:Z.Z,QDialog:Q.Z,QCardActions:I.Z}),j()(C,"directives",{ClosePopup:O.Z})}}]);