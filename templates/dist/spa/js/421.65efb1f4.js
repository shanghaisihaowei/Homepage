"use strict";(self["webpackChunktemplates"]=self["webpackChunktemplates"]||[]).push([[421],{504:(e,t,o)=>{o.r(t),o.d(t,{default:()=>b});var a=o(3673),i=o(2323);const n={class:"row my-font"},r=["src"],s={class:"author my-font"},c={key:0},m={key:1},l={class:"tit my-font"},u=["innerHTML"];function d(e,t,o,d,p,h){const _=(0,a.up)("q-btn"),g=(0,a.up)("q-card-actions"),y=(0,a.up)("q-separator"),v=(0,a.up)("q-avatar"),f=(0,a.up)("q-card-section"),w=(0,a.up)("q-card"),W=(0,a.up)("comment-list");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a.Wm)(w,{class:"col-12 shadow-0"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(_,{onClick:t[0]||(t[0]=e=>this.$router.push({name:"community"})),style:{"font-size":"14px","font-weight":"400",color:"#999999"},unelevated:"",label:e.goblack},null,8,["label"])])),_:1}),(0,a.Wm)(y,{inset:""}),(0,a.Wm)(f,{horizontal:""},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{size:"60px"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:e.avatar_img},null,8,r)])),_:1})])),_:1}),(0,a.Wm)(f,{class:"q-pa-md flex flex-center"},{default:(0,a.w5)((()=>[(0,a._)("span",s,(0,i.zw)(e.author),1)])),_:1}),(0,a.Wm)(f,{class:"q-pa-md flex flex-center art_time my-font-D"},{default:(0,a.w5)((()=>[!0===e.is_uptime?((0,a.wg)(),(0,a.iD)("span",c,(0,i.zw)(e.$t("community.push_time")),1)):(0,a.kq)("",!0),!1===e.is_uptime?((0,a.wg)(),(0,a.iD)("span",m,(0,i.zw)(e.$t("community.revise_time")),1)):(0,a.kq)("",!0),(0,a._)("span",null,(0,i.zw)(e.time),1)])),_:1})])),_:1}),(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a._)("div",l,(0,i.zw)(e.title),1)])),_:1}),(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a._)("div",{innerHTML:e.content,class:"art_msg my-font"},null,8,u)])),_:1}),(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.imgs),1)])),_:1}),(0,a.Wm)(y)])),_:1}),(0,a.Wm)(w,{class:"col-12 shadow-0",style:{"margin-top":"30px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{class:"col-12",commentList:e.first_LR,userId:e.userid,type:"article"},null,8,["commentList","userId"])])),_:1})])}var p=o(51),h=o(5474),_=o(7286),g=o(4942);const y=(0,a.aZ)({components:{commentList:g.Z},data(){return{head_title:"",meta:{},avatar_now:"",goblack:this.$t("community.black"),title:"",avatar_img:"",author:"",time:"",content:"",imgs:"",qeditor_commentary:"",comment_count:"",first_LR:[],sen_qeditor:"",write_reply:this.$t("community.write_reply"),isWrite:[],has_child:[],comment_more:[],isexhibit:!0,is_uptime:!0,isLogin:!1,userid:""}},computed:{articleId(){return this.$store.state.bbsChange.articleId}},methods:{getavayarinfo(){var e=this;let t=(0,p.Z)(e.$q.cookies.get("token"));e.avatar_now=t.icon},getdetailedinfo(){var e=this;(0,h.get)("article/api/v1/Browse/"+e.$q.cookies.get("articleId")+"/?community_type=0").then((t=>{var o=t.result;e.title=o.title,e.head_title=o.title,e.author=o.author_icon.author,e.content=o.content,e.imgs=o.cover,e.comment_count=o.comment_count,e.avatar_img=o.author_icon.icon,e.first_LR=o.comment,e.userid=o.author_icon.id,o.changed_time===o.create_time?(e.time=o.updata_time,e.is_uptime=!0):(e.time=o.create_time,e.is_uptime=!1),e.meta={description:{name:"description",content:"GreaterWMS - Open Source Warehouse Management System"},keywords:{name:"keywords",content:o.content},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"},ogTitle:{property:"og:title",template(e){return`${e} - GreaterWMS`}}}})).catch((t=>{e.$q.notify({message:t.detail,icon:"close",color:"negative"})}))},post_comment(){var e=this,t={};t["content"]=e.qeditor_commentary,t["depth"]=1,t["article"]=e.$q.cookies.get("articleId"),(0,h.postauth)("/comment/api/v1/commentadd/",t).then((t=>{200===t.code?(e.$q.notify({message:e.$t("community.reply_suc"),icon:"check",color:"green"}),location.reload()):e.$q.notify({message:e.$t("community.reply_err"),icon:"close",color:"negative"})})).catch((t=>{e.$q.notify({message:t.detail,icon:"close",color:"negative"})}))},click_isWrite(e){var t=this;t.isWrite[e]=!t.isWrite[e]},post_comment_sen(e,t){var o=this,a={depth:2};a["reply"]=e,a["root"]=e,a["article"]=o.$q.cookies.get("articleId"),a["content"]=o.sen_qeditor,(0,h.postauth)("/comment/api/v1/commentadd/",a).then((e=>{200===e.code&&o.$q.notify({message:"成功",icon:"check",color:"green"}),o.isWrite=[]})).catch((e=>{o.$q.notify({message:e.detail,icon:"close",color:"negative"})}))},getcommentmore(e,t){var o=this;(0,h.get)("/comment/api/v1/commentget/?root="+e).then((e=>{o.comment_more[t]=e.result})).catch((e=>{o.$q.notify({message:e.detail,icon:"close",color:"negative"})})),o.isMore=[]}},mixins:[(0,_.Z)((function(){return{title:this.head_title,meta:this.meta}}))],created(){var e=this;"zh-hans"===e.$q.cookies.get("lang")?(e.head_title="GreaterWMS - 开源社区",e.meta={description:{name:"description",content:"GreaterWMS - Open Source Warehouse Management System"},keywords:{name:"keywords",content:"聚商汇WMS,开源仓库管理系统,仓库管理系统,wms,仓库管理软件,仓库管理,GreaterWMS, greaterwms"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"},ogTitle:{property:"og:title",template(e){return`${e} - GreaterWMS`}}}):(e.head_title="GreaterWMS - Community",e.meta={description:{name:"description",content:"GreaterWMS - Open Source Warehouse Management System"},keywords:{name:"keywords",content:"GreaterWMS - Open Source Warehouse Management System, GreaterWMS, greaterwms, wms"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"},ogTitle:{property:"og:title",template(e){return`${e} - GreaterWMS`}}})},mounted(){var e=this;e.$q.cookies.has("token")?(e.getavayarinfo(),e.isLogin=!0):e.isLogin=!1,this.getdetailedinfo()}});var v=o(4260),f=o(151),w=o(9367),W=o(2165),q=o(5869),k=o(5589),$=o(5096),S=o(7201),M=o(7518),x=o.n(M);const Z=(0,v.Z)(y,[["render",d],["__scopeId","data-v-314e603d"]]),b=Z;x()(y,"components",{QCard:f.Z,QCardActions:w.Z,QBtn:W.Z,QSeparator:q.Z,QCardSection:k.Z,QAvatar:$.Z,QEditor:S.Z})}}]);