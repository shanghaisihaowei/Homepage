"use strict";(self["webpackChunktemplates"]=self["webpackChunktemplates"]||[]).push([[234],{5350:(e,t,i)=>{i.r(t),i.d(t,{default:()=>W});var a=i(3673),s=i(2323);const n={style:{"font-size":"20px",color:"white"}},l={key:0,class:"q-pa-md flex bg-white flex-center"},u={key:1,class:"flex flex-center q-mt-lg"},o=(0,a.Uk)("no more data"),r={key:2,style:{height:"calc(72vh)","background-color":"white","padding-top":"20%","border-top":"1px solid #e6e6e6"}},g=(0,a._)("div",{class:"flex flex-center"},[(0,a._)("img",{src:"statics/community/default_page.svg"})],-1),p={class:"q-pa-md flex flex-center default_page"};function c(e,t,i,c,m,d){const h=(0,a.up)("q-tab"),f=(0,a.up)("q-tabs"),_=(0,a.up)("q-space"),w=(0,a.up)("q-btn"),y=(0,a.up)("q-card"),P=(0,a.up)("plugins-list"),x=(0,a.up)("q-pagination");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(y,{flat:"",class:"flex",style:{"align-items":"center"}},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{modelValue:m.plugin_type,"onUpdate:modelValue":t[0]||(t[0]=e=>m.plugin_type=e),align:"left","narrow-indicator":"","indicator-color":"blue","inline-label":"",style:{"font-size":"20px","font-weight":"500"},class:"q-py-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{name:"GreaterWMS","no-caps":""},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,s.zw)(e.$t("community.greaterwms")),1)])),_:1}),(0,a.Wm)(h,{name:"DVAdmin","no-caps":""},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,s.zw)(e.$t("community.dvadmin")),1)])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(_),(0,a.Wm)(w,{onClick:t[1]||(t[1]=e=>this.$router.push("/market/pluginRelease/newPlugin")),class:"q-mr-md",style:{"background-color":"#116fec","min-width":"120px",height:"40px"}},{default:(0,a.w5)((()=>[(0,a._)("span",n,(0,s.zw)(e.$t("community.e_shop_view.release_plugins")),1)])),_:1})])),_:1}),(0,a.Wm)(P,{pluginList:m.plugin_list,isMyPlugins:m.isMyPlugins},null,8,["pluginList","isMyPlugins"]),m.hasPagination?((0,a.wg)(),(0,a.iD)("div",l,[(0,a.Wm)(x,{class:"q_pagination","direction-links":"",modelValue:m.currentPage,"onUpdate:modelValue":t[2]||(t[2]=e=>m.currentPage=e),max:m.maxPages,"max-pages":6},null,8,["modelValue","max"])])):(0,a.kq)("",!0),!m.hasPagination&&m.plugin_list.length?((0,a.wg)(),(0,a.iD)("div",u,[(0,a.Wm)(w,{flat:""},{default:(0,a.w5)((()=>[o])),_:1})])):(0,a.kq)("",!0),m.plugin_list.length?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",r,[g,(0,a._)("div",p,(0,s.zw)(e.$t("community.myAccount_view.my_plugins")),1)]))])}var m=i(7226),d=i(5474);const h={components:{PluginsList:m.Z},data(){return{currentPage:1,maxPages:1,hasPagination:!1,plugin_type:"GreaterWMS",plugin_list:[],isMyPlugins:!0,affiliation:""}},watch:{currentPage(e){this.redirectPage(e)},plugin_type:{handler(e){this.affiliation="GreaterWMS"===e?"0":"1",this.getMyReleasedPlugins(this.affiliation)},immediate:!0}},methods:{getMyReleasedPlugins(e){(0,d.getauth)(`software/api/v1/my_soft/?affiliation=${e}`).then((e=>{this.setOrdersList(e),e.count&&(this.maxPages=Math.ceil(e.count/20))}))},setOrdersList(e){this.plugin_list=e.results,e.next||e.previous?this.hasPagination=!0:this.hasPagination=!1},redirectPage(e){(0,d.getauth)(`software/api/v1/my_soft/?affiliation=${this.affiliation}&page=${e}`).then((e=>{this.setOrdersList(e),document.getElementsByClassName("q-scrollarea__container")[0].scrollTop=0}))}},mounted(){this.$store.dispatch("bbsChange/isIndexMenu",!1),this.$store.dispatch("bbsChange/link","plugin")}};var f=i(4260),_=i(151),w=i(7547),y=i(3269),P=i(2025),x=i(2165),b=i(7300),k=i(7518),v=i.n(k);const q=(0,f.Z)(h,[["render",c]]),W=q;v()(h,"components",{QCard:_.Z,QTabs:w.Z,QTab:y.Z,QSpace:P.Z,QBtn:x.Z,QPagination:b.Z})}}]);